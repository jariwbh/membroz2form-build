(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Iab2:function(e,t,i){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";function t(e,t,i){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){c(n.response,t,i)},n.onerror=function(){console.error("could not download file")},n.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(i)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,a,c){var r=o.URL||o.webkitURL,l=document.createElement("a");l.download=a=a||e.name||"download",l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?n(l):i(l.href)?t(e,a,c):n(l,l.target="_blank")):(l.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){n(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,a){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,a),o);else if(i(e))t(e,o,a);else{var c=document.createElement("a");c.href=e,c.target="_blank",setTimeout((function(){n(c)}))}}:function(e,i,n,c){if((c=c||open("","_blank"))&&(c.document.title=c.document.body.innerText="downloading..."),"string"==typeof e)return t(e,i,n);var r="application/octet-stream"===e.type,l=/constructor/i.test(o.HTMLElement)||o.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&l||a)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=e:location=e,c=null},d.readAsDataURL(e)}else{var m=o.URL||o.webkitURL,f=m.createObjectURL(e);c?c.location=f:location.href=f,c=null,setTimeout((function(){m.revokeObjectURL(f)}),4e4)}});o.saveAs=c.saveAs=c,e.exports=c})?n.apply(t,[]):n)||(e.exports=o)},tVUk:function(e,t,i){"use strict";i.r(t),i.d(t,"DocumentModuleModule",(function(){return Ae}));var n=i("tyNb"),o=i("ofXK"),a=i("3Pt+"),c=i("mrSG"),r=i("lYtk"),l=i("XNiG"),s=i("1G5W"),d=i("fXoL"),m=i("Iab2");i("tk/3");let f=(()=>{class e{get isFileSaverSupported(){try{return!!new Blob}catch(e){return!1}}genType(e){if(!e||-1===e.lastIndexOf("."))return"text/plain";const t=e.substr(e.lastIndexOf(".")+1);switch(t){case"txt":return"text/plain";case"xml":case"html":return"text/"+t;case"json":return"octet/stream";default:return"application/"+t}}save(e,t,i,n){if(!e)throw new Error("Data argument should be a blob instance");const o=new Blob([e],{type:i||e.type||this.genType(t)});Object(m.saveAs)(o,decodeURI(t||"download"),n)}saveText(e,t,i){const n=new Blob([e]);this.save(n,t,null,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(d.Yb)({factory:function(){return new e},token:e,providedIn:"root"}),e})(),h=(()=>{class e{}return e.\u0275mod=d.ac({type:e}),e.\u0275inj=d.Zb({factory:function(t){return new(t||e)}}),e})();var u=i("bSwM"),p=i("t34c"),g=i("+Yhq"),b=i("K9UI"),v=i("7pIB"),y=i("3nuN"),w=i("kmnG"),x=i("qFsG"),_=i("MutI"),D=i("QibW"),S=i("/1cH"),P=i("FKr1"),k=i("iadO"),C=i("z17N"),F=i("d3UM"),E=i("Yadw"),I=i("bTqV");class O{constructor(e,t,i){this.x=e,this.y=t,this.time=i||Date.now()}distanceTo(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))}equals(e){return this.x===e.x&&this.y===e.y&&this.time===e.time}velocityFrom(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):0}}class M{constructor(e,t,i,n,o,a){this.startPoint=e,this.control2=t,this.control1=i,this.endPoint=n,this.startWidth=o,this.endWidth=a}static fromPoints(e,t){const i=this.calculateControlPoints(e[0],e[1],e[2]).c2,n=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new M(e[1],i,n,e[2],t.start,t.end)}static calculateControlPoints(e,t,i){const n=e.x-t.x,o=e.y-t.y,a=t.x-i.x,c=t.y-i.y,r=(e.x+t.x)/2,l=(e.y+t.y)/2,s=(t.x+i.x)/2,d=(t.y+i.y)/2,m=Math.sqrt(n*n+o*o),f=Math.sqrt(a*a+c*c),h=f/(m+f),u=t.x-(s+(r-s)*h),p=t.y-(d+(l-d)*h);return{c1:new O(r+u,l+p),c2:new O(s+u,d+p)}}length(){let e,t,i=0;for(let n=0;n<=10;n+=1){const o=n/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),c=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(n>0){const n=a-e,o=c-t;i+=Math.sqrt(n*n+o*o)}e=a,t=c}return i}point(e,t,i,n,o){return t*(1-e)*(1-e)*(1-e)+3*i*(1-e)*(1-e)*e+3*n*(1-e)*e*e+o*e*e*e}}class V{constructor(e,t={}){this.canvas=e,this.options=t,this._handleMouseDown=e=>{1===e.which&&(this._mouseButtonDown=!0,this._strokeBegin(e))},this._handleMouseMove=e=>{this._mouseButtonDown&&this._strokeMoveUpdate(e)},this._handleMouseUp=e=>{1===e.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(e))},this._handleTouchStart=e=>{e.preventDefault(),1===e.targetTouches.length&&this._strokeBegin(e.changedTouches[0])},this._handleTouchMove=e=>{e.preventDefault(),this._strokeMoveUpdate(e.targetTouches[0])},this._handleTouchEnd=e=>{e.target===this.canvas&&(e.preventDefault(),this._strokeEnd(e.changedTouches[0]))},this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._strokeMoveUpdate=this.throttle?function(e,t=250){let i,n,o,a=0,c=null;const r=()=>{a=Date.now(),c=null,i=e.apply(n,o),c||(n=null,o=[])};return function(...l){const s=Date.now(),d=t-(s-a);return n=this,o=l,d<=0||d>t?(c&&(clearTimeout(c),c=null),a=s,i=e.apply(n,o),c||(n=null,o=[])):c||(c=window.setTimeout(r,d)),i}}(V.prototype._strokeUpdate,this.throttle):V.prototype._strokeUpdate,this._ctx=e.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(e,t={},i){const n=new Image,o=t.ratio||window.devicePixelRatio||1,a=t.width||this.canvas.width/o,c=t.height||this.canvas.height/o;this._reset(),n.onload=()=>{this._ctx.drawImage(n,0,0,a,c),i&&i()},n.onerror=e=>{i&&i(e)},n.src=e,this._isEmpty=!1}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return this._toSVG();default:return this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e){this.clear(),this._fromData(e,({color:e,curve:t})=>this._drawCurve({color:e,curve:t}),({color:e,point:t})=>this._drawDot({color:e,point:t})),this._data=e}toData(){return this._data}_strokeBegin(e){const t={color:this.penColor,points:[]};"function"==typeof this.onBegin&&this.onBegin(e),this._data.push(t),this._reset(),this._strokeUpdate(e)}_strokeUpdate(e){if(0===this._data.length)return void this._strokeBegin(e);const t=this._createPoint(e.clientX,e.clientY),i=this._data[this._data.length-1],n=i.points,o=n.length>0&&n[n.length-1],a=!!o&&t.distanceTo(o)<=this.minDistance,c=i.color;if(!o||!o||!a){const e=this._addPoint(t);o?e&&this._drawCurve({color:c,curve:e}):this._drawDot({color:c,point:t}),n.push({time:t.time,x:t.x,y:t.y})}}_strokeEnd(e){this._strokeUpdate(e),"function"==typeof this.onEnd&&this.onEnd(e)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(e,t){const i=this.canvas.getBoundingClientRect();return new O(e-i.left,t-i.top,(new Date).getTime())}_addPoint(e){const{_lastPoints:t}=this;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);const e=this._calculateCurveWidths(t[1],t[2]),i=M.fromPoints(t,e);return t.shift(),i}return null}_calculateCurveWidths(e,t){const i=this.velocityFilterWeight*t.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(i),o={end:n,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=n,o}_strokeWidth(e){return Math.max(this.maxWidth/(e+1),this.minWidth)}_drawCurveSegment(e,t,i){const n=this._ctx;n.moveTo(e,t),n.arc(e,t,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:e,curve:t}){const i=this._ctx,n=t.endWidth-t.startWidth,o=2*Math.floor(t.length());i.beginPath(),i.fillStyle=e;for(let a=0;a<o;a+=1){const e=a/o,i=e*e,c=i*e,r=1-e,l=r*r,s=l*r;let d=s*t.startPoint.x;d+=3*l*e*t.control1.x,d+=3*r*i*t.control2.x,d+=c*t.endPoint.x;let m=s*t.startPoint.y;m+=3*l*e*t.control1.y,m+=3*r*i*t.control2.y,m+=c*t.endPoint.y;const f=Math.min(t.startWidth+c*n,this.maxWidth);this._drawCurveSegment(d,m,f)}i.closePath(),i.fill()}_drawDot({color:e,point:t}){const i=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(t.x,t.y,n),i.closePath(),i.fillStyle=e,i.fill()}_fromData(e,t,i){for(const n of e){const{color:e,points:o}=n;if(o.length>1)for(let i=0;i<o.length;i+=1){const n=o[i],a=new O(n.x,n.y,n.time);this.penColor=e,0===i&&this._reset();const c=this._addPoint(a);c&&t({color:e,curve:c})}else this._reset(),i({color:e,point:o[0]})}}_toSVG(){const e=this._data,t=Math.max(window.devicePixelRatio||1,1),i=this.canvas.width/t,n=this.canvas.height/t,o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",this.canvas.width.toString()),o.setAttribute("height",this.canvas.height.toString()),this._fromData(e,({color:e,curve:t})=>{const i=document.createElement("path");if(!(isNaN(t.control1.x)||isNaN(t.control1.y)||isNaN(t.control2.x)||isNaN(t.control2.y))){const n=`M ${t.startPoint.x.toFixed(3)},${t.startPoint.y.toFixed(3)} C ${t.control1.x.toFixed(3)},${t.control1.y.toFixed(3)} ${t.control2.x.toFixed(3)},${t.control2.y.toFixed(3)} ${t.endPoint.x.toFixed(3)},${t.endPoint.y.toFixed(3)}`;i.setAttribute("d",n),i.setAttribute("stroke-width",(2.25*t.endWidth).toFixed(3)),i.setAttribute("stroke",e),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),o.appendChild(i)}},({color:e,point:t})=>{const i=document.createElement("circle"),n="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.setAttribute("r",n.toString()),i.setAttribute("cx",t.x.toString()),i.setAttribute("cy",t.y.toString()),i.setAttribute("fill",e),o.appendChild(i)});const a=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${i} ${n}" width="${i}" height="${n}">`;let c=o.innerHTML;if(void 0===c){const e=document.createElement("dummy"),t=o.childNodes;e.innerHTML="";for(let i=0;i<t.length;i+=1)e.appendChild(t[i].cloneNode(!0));c=e.innerHTML}return"data:image/svg+xml;base64,"+btoa(a+c+"</svg>")}}var A=V;const L=["signaturePad"],T=["signaturePadContainer"];let N=(()=>{class e{constructor(){}ngOnChanges(e){e.config.firstChange||Object.keys(e.config.currentValue).map(t=>{this.signaturePad[t]=e.config.currentValue[t]})}ngAfterViewInit(){this.setCanvasSize(),this.signaturePad=new A(this.signaturePadElement.nativeElement,this.config)}setCanvasSize(){const{offsetWidth:e,offsetHeight:t}=this.signaturePadContainerElement.nativeElement;this.signaturePadElement.nativeElement.width=e,this.signaturePadElement.nativeElement.height=t}clear(){this.signaturePad.clear()}fromDataURL(e,t,i){this.signaturePad.fromDataURL(e,t,i)}toDataURL(e,t){return this.signaturePad.toDataURL(e,t)}on(){this.signaturePad.on()}off(){this.signaturePad.off()}isEmpty(){return!this.signaturePad||this.signaturePad.isEmpty()}fromData(e){this.signaturePad.fromData(e)}toData(){return this.signaturePad.toData()}forceUpdate(){this.setCanvasSize(),this.signaturePad=new A(this.signaturePadElement.nativeElement,this.config)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Wb({type:e,selectors:[["ngx-signature-pad"]],viewQuery:function(e,t){var i;1&e&&(d.dd(L,!0),d.dd(T,!0)),2&e&&(d.Kc(i=d.uc())&&(t.signaturePadElement=i.first),d.Kc(i=d.uc())&&(t.signaturePadContainerElement=i.first))},inputs:{config:"config"},features:[d.Nb],decls:4,vars:0,consts:[["signaturePadContainer",""],["signaturePad",""]],template:function(e,t){1&e&&(d.ic(0,"div",null,0),d.dc(2,"canvas",null,1),d.hc())},encapsulation:2}),e})(),U=(()=>{class e{}return e.\u0275mod=d.ac({type:e}),e.\u0275inj=d.Zb({factory:function(t){return new(t||e)},imports:[[]]}),e})();const B=["testPadTest"];function j(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",16),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(2),d.Dc("formControlName",e.formfield.fieldname)}}function X(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",17),d.hc(),d.ic(3,"mat-form-field",15),d.ic(4,"textarea",18),d.Zc(5," "),d.hc(),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(2),d.Dc("formControlName",e.formfield.fieldname)}}function W(e,t){if(1&e&&(d.ic(0,"mat-list-option",21),d.Zc(1),d.hc()),2&e){const e=t.$implicit;d.Dc("value",e.key),d.Pb(1),d.bd(" ",e.value," ")}}function R(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-selection-list",19),d.Xc(2,W,2,2,"mat-list-option",20),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(1),d.Dc("formControlName",e.formfield.fieldname),d.Pb(1),d.Dc("ngForOf",e.formfield.lookupdata)}}function Z(e,t){if(1&e&&(d.ic(0,"mat-radio-button",24),d.Zc(1),d.hc()),2&e){const e=t.$implicit;d.Dc("value",e.value),d.Pb(1),d.bd(" ",e.value," ")}}function z(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-radio-group",22),d.Xc(2,Z,2,2,"mat-radio-button",23),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(1),d.Dc("formControlName",e.formfield.fieldname),d.Pb(1),d.Dc("ngForOf",e.formfield.lookupdata)}}function q(e,t){if(1&e&&(d.ic(0,"mat-option",28),d.ic(1,"span"),d.Zc(2),d.hc(),d.hc()),2&e){const e=t.$implicit;d.Dc("value",e.value),d.Pb(2),d.ad(e.value)}}function H(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",25),d.ic(3,"mat-autocomplete",null,26),d.Xc(5,q,3,2,"mat-option",27),d.hc(),d.hc(),d.fc()),2&e){const e=d.Lc(4),t=d.xc(2);d.Pb(2),d.Dc("matAutocomplete",e)("formControlName",t.formfield.fieldname),d.Pb(3),d.Dc("ngForOf",t.formfield.lookupdata)}}function G(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field"),d.dc(2,"input",29),d.dc(3,"mat-datepicker-toggle",30),d.dc(4,"mat-datepicker",31,32),d.hc(),d.fc()),2&e){const e=d.Lc(5),t=d.xc(2);d.Pb(2),d.Dc("min",t.minDate)("max",t.formfield.maxDate?t.formfield.maxDate:t.maxDate)("matDatepicker",e)("formControlName",t.formfield.fieldname),d.Pb(1),d.Dc("for",e),d.Pb(1),d.Dc("startAt",t.startDate)}}function K(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",33),d.dc(3,"owl-date-time",34,35),d.hc(),d.fc()),2&e){const e=d.Lc(4),t=d.xc(2);d.Pb(2),d.Dc("owlDateTimeTrigger",e)("owlDateTime",e)("formControlName",t.formfield.fieldname),d.Pb(1),d.Dc("pickerType","timer")}}function Y(e,t){if(1&e&&(d.ic(0,"mat-option",28),d.Zc(1),d.hc()),2&e){const e=t.$implicit;d.Dc("value",e.value),d.Pb(1),d.bd(" ",e.value," ")}}function Q(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.ic(2,"mat-select",36),d.ic(3,"mat-option",37),d.Zc(4),d.hc(),d.Xc(5,Y,2,2,"mat-option",27),d.hc(),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(2),d.Dc("formControlName",e.formfield.fieldname),d.Pb(2),d.bd("Select ",e.formfield.displayname,""),d.Pb(1),d.Dc("ngForOf",e.formfield.lookupdata)}}function J(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",16),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(2),d.Dc("formControlName",e.formfield.fieldname)}}function ee(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",16),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(2),d.Dc("formControlName",e.formfield.fieldname)}}function te(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",38),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(2),d.Dc("formControlName",e.formfield.fieldname)}}function ie(e,t){if(1&e&&(d.gc(0),d.ic(1,"mat-form-field",15),d.dc(2,"input",38),d.hc(),d.fc()),2&e){const e=d.xc(2);d.Pb(2),d.Dc("formControlName",e.formfield.fieldname)}}const ne=function(e){return[e]},oe=function(e,t){return[e,t]};function ae(e,t){if(1&e&&(d.gc(0),d.dc(1,"ngx-intl-tel-input",39),d.fc()),2&e){const e=d.xc(2);d.Pb(1),d.Dc("inputId","adsasd")("cssClass","custom form-control")("ngClass",e.dynamicForm.get(d.Hc(14,ne,e.formfield.fieldname)).pristine&&!e.dynamicSubmitted||e.dynamicForm.get(d.Hc(16,ne,e.formfield.fieldname)).valid?" ":"error")("preferredCountries",e.preferredCountries)("enableAutoCountrySelect",!1)("enablePlaceholder",!0)("searchCountryFlag",!0)("searchCountryField",d.Ic(18,oe,e.SearchCountryField.Iso2,e.SearchCountryField.Name))("selectFirstCountry",!1)("selectedCountryISO",e.formfield.value&&e.formfield.value.countryCode?e.formfield.value.countryCode:e.CountryISO.India)("maxLength",15)("phoneValidation",!0)("separateDialCode",e.separateDialCode)("formControlName",e.formfield.fieldname)}}function ce(e,t){if(1&e){const e=d.jc();d.gc(0),d.ic(1,"dynamic-autocomplete",40),d.tc("added",(function(t){return d.Oc(e),d.xc(2).onItemAdded(t)})),d.hc(),d.fc()}if(2&e){const e=d.xc(2);d.Pb(1),d.Dc("formControlName",e.formfield.fieldname)("setting",e.formfield)("dbvalue",e.formfield.value)}}function re(e,t){if(1&e){const e=d.jc();d.gc(0),d.ic(1,"dynamic-autocomplete",40),d.tc("added",(function(t){return d.Oc(e),d.xc(2).onItemAdded(t)})),d.hc(),d.fc()}if(2&e){const e=d.xc(2);d.Pb(1),d.Dc("formControlName",e.formfield.fieldname)("setting",e.formfield)("dbvalue",e.formfield.value)}}function le(e,t){if(1&e){const e=d.jc();d.ic(0,"span",50),d.ic(1,"span",51),d.ic(2,"i",52),d.Zc(3,"link"),d.hc(),d.ic(4,"span",53),d.tc("click",(function(){d.Oc(e);const i=t.$implicit;return d.xc(3).downloadlink(i.attachment)})),d.Zc(5),d.hc(),d.hc(),d.ic(6,"i",54),d.tc("click",(function(){d.Oc(e);const i=t.$implicit,n=d.xc(3);return n.removeImg(i,n.formfield.fieldname)})),d.Zc(7,"clear"),d.hc(),d.hc()}if(2&e){const e=t.$implicit;d.Pb(5),d.cd(" ",e.originalfilename,".",e.extension,"")}}function se(e,t){if(1&e){const e=d.jc();d.gc(0),d.ic(1,"div",41),d.dc(2,"img",42),d.ic(3,"div",43),d.ic(4,"label",44),d.ic(5,"i",13),d.Zc(6,"cloud_upload"),d.hc(),d.Zc(7," Upload "),d.hc(),d.ic(8,"input",45,46),d.tc("change",(function(){return d.Oc(e),d.Lc(9).value=""})),d.hc(),d.dc(10,"input",47),d.hc(),d.ic(11,"div",48),d.Xc(12,le,8,2,"span",49),d.hc(),d.hc(),d.fc()}if(2&e){const e=d.xc(2);d.Pb(2),d.Sb("loading_",e.formfield.fieldname,""),d.Pb(2),d.Fc("for","fileupload_",e.formfield.fieldname,""),d.Pb(4),d.Uc("display","none"),d.Fc("id","fileupload_",e.formfield.fieldname,""),d.Dc("uploader",e.customeUploader[e.formfield.fieldname]),d.Pb(2),d.Dc("id",e.formfield.fieldname)("formControlName",e.formfield.fieldname),d.Pb(2),d.Dc("ngForOf",e.formImageArray[e.formfield.fieldname])}}function de(e,t){if(1&e){const e=d.jc();d.ic(0,"div",56),d.ic(1,"div",64),d.ic(2,"img",65),d.tc("click",(function(){d.Oc(e);const i=t.$implicit;return d.xc(3).downloadlink(i.attachment)})),d.hc(),d.ic(3,"span",66),d.ic(4,"button",67),d.tc("click",(function(){d.Oc(e);const i=t.$implicit,n=d.xc(3);return n.removeImg(i,n.formfield.fieldname)})),d.ic(5,"i",13),d.Zc(6,"cancel"),d.hc(),d.hc(),d.hc(),d.hc(),d.hc()}if(2&e){const e=t.$implicit;d.Pb(2),d.Dc("src",e.attachment,d.Qc)}}function me(e,t){if(1&e){const e=d.jc();d.gc(0),d.ic(1,"div",41),d.ic(2,"div",55),d.ic(3,"div",56),d.ic(4,"span",57),d.ic(5,"label",58),d.wc(),d.ic(6,"svg",59),d.ic(7,"g",60),d.dc(8,"line",61),d.dc(9,"line",62),d.hc(),d.hc(),d.vc(),d.ic(10,"div",48),d.Zc(11),d.hc(),d.hc(),d.ic(12,"input",45,46),d.tc("change",(function(){return d.Oc(e),d.Lc(13).value=""})),d.hc(),d.dc(14,"input",47),d.hc(),d.dc(15,"img",42),d.hc(),d.Xc(16,de,7,1,"div",63),d.hc(),d.hc(),d.fc()}if(2&e){const e=d.xc(2);d.Pb(5),d.Fc("for","fileupload_",e.formfield.fieldname,""),d.Pb(6),d.bd(" ",e.getLang("addimage","Add image"),""),d.Pb(1),d.Uc("display","none"),d.Fc("id","fileupload_",e.formfield.fieldname,""),d.Dc("uploader",e.customeUploader[e.formfield.fieldname]),d.Pb(2),d.Dc("id",e.formfield.fieldname)("formControlName",e.formfield.fieldname),d.Pb(1),d.Sb("loading_",e.formfield.fieldname,""),d.Pb(1),d.Dc("ngForOf",e.formImageArray[e.formfield.fieldname])}}function fe(e,t){if(1&e&&(d.gc(0),d.dc(1,"img",69),d.fc()),2&e){const e=d.xc(3);d.Pb(1),d.Dc("src",e.formfield.value,d.Qc)}}function he(e,t){1&e&&(d.gc(0),d.ic(1,"div",70),d.ic(2,"div",3),d.dc(3,"ngx-signature-pad",null,71),d.hc(),d.hc(),d.fc())}function ue(e,t){if(1&e&&(d.gc(0),d.Xc(1,fe,2,1,"ng-container",14),d.dc(2,"input",68),d.Xc(3,he,5,0,"ng-container",14),d.fc()),2&e){const e=d.xc(2);d.Pb(1),d.Dc("ngIf",e.formfield.value),d.Pb(1),d.Dc("formControlName",e.formfield.fieldname),d.Pb(1),d.Dc("ngIf",e.display)}}function pe(e,t){if(1&e&&(d.ic(0,"small",72),d.Zc(1),d.hc()),2&e){const e=d.xc(2);d.Pb(1),d.bd(" * ",e.formfield.displayname," is Required ")}}function ge(e,t){if(1&e&&(d.ic(0,"small",72),d.Zc(1),d.hc()),2&e){const e=d.xc(2);d.Pb(1),d.bd(" * ",e.formfield.displayname," is Invalid Email ")}}function be(e,t){if(1&e){const e=d.jc();d.ic(0,"button",73),d.tc("click",(function(){return d.Oc(e),d.xc(2).clear()})),d.Zc(1," clear "),d.hc()}}function ve(e,t){if(1&e){const e=d.jc();d.gc(0),d.ic(1,"label",74),d.ic(2,"i",13),d.Zc(3,"cloud_upload"),d.hc(),d.Zc(4),d.hc(),d.ic(5,"input",45,46),d.tc("change",(function(){return d.Oc(e),d.Lc(6).value=""})),d.hc(),d.fc()}if(2&e){const e=d.xc(2);d.Pb(1),d.Fc("for","fileupload_",e.formfield.fieldname,""),d.Pb(3),d.bd(" ",e.getLang("upload","Upload")," "),d.Pb(1),d.Uc("display","none"),d.Fc("id","fileupload_",e.formfield.fieldname,""),d.Dc("uploader",e.customeUploader[e.formfield.fieldname])}}function ye(e,t){if(1&e){const e=d.jc();d.ic(0,"form",1,2),d.tc("ngSubmit",(function(){d.Oc(e);const t=d.xc();return t.onDynamicFormSubmit(t.dynamicForm.value,t.dynamicForm.valid)})),d.ic(2,"div",3),d.ic(3,"div",4),d.ic(4,"label",5),d.Zc(5),d.hc(),d.gc(6,6),d.Xc(7,j,3,1,"ng-container",7),d.Xc(8,X,6,1,"ng-container",7),d.Xc(9,R,3,2,"ng-container",7),d.Xc(10,z,3,2,"ng-container",7),d.Xc(11,H,6,3,"ng-container",7),d.Xc(12,G,6,6,"ng-container",7),d.Xc(13,K,5,4,"ng-container",7),d.Xc(14,Q,6,3,"ng-container",7),d.Xc(15,J,3,1,"ng-container",7),d.Xc(16,ee,3,1,"ng-container",7),d.Xc(17,te,3,1,"ng-container",7),d.Xc(18,ie,3,1,"ng-container",7),d.Xc(19,ae,2,21,"ng-container",7),d.Xc(20,ce,2,3,"ng-container",7),d.Xc(21,re,2,3,"ng-container",7),d.Xc(22,se,13,11,"ng-container",7),d.Xc(23,me,17,12,"ng-container",7),d.Xc(24,ue,4,3,"ng-container",7),d.ic(25,"div",8),d.Xc(26,pe,2,1,"small",9),d.Xc(27,ge,2,1,"small",9),d.hc(),d.fc(),d.hc(),d.hc(),d.ic(28,"div",3),d.ic(29,"div",10),d.Xc(30,be,2,0,"button",11),d.ic(31,"button",12),d.ic(32,"i",13),d.Zc(33,"save"),d.hc(),d.Zc(34),d.hc(),d.Xc(35,ve,7,6,"ng-container",14),d.hc(),d.hc(),d.hc()}if(2&e){const e=d.xc();d.Dc("formGroup",e.dynamicForm),d.Pb(5),d.bd(" ",e.getLang(e.formfield.fieldname,e.formfield.displayname)," "),d.Pb(1),d.Dc("ngSwitch",e.formfield.fieldtype),d.Pb(1),d.Dc("ngSwitchCase","text"),d.Pb(1),d.Dc("ngSwitchCase","long_text"),d.Pb(1),d.Dc("ngSwitchCase","checkbox"),d.Pb(1),d.Dc("ngSwitchCase","radio"),d.Pb(1),d.Dc("ngSwitchCase","list"),d.Pb(1),d.Dc("ngSwitchCase","datepicker"),d.Pb(1),d.Dc("ngSwitchCase","time_only"),d.Pb(1),d.Dc("ngSwitchCase","multi_selected_list"),d.Pb(1),d.Dc("ngSwitchCase","primaryemail"),d.Pb(1),d.Dc("ngSwitchCase","secondaryemail"),d.Pb(1),d.Dc("ngSwitchCase","mobile"),d.Pb(1),d.Dc("ngSwitchCase","alternatenumber"),d.Pb(1),d.Dc("ngSwitchCase","whatsappnumber"),d.Pb(1),d.Dc("ngSwitchCase","lookup"),d.Pb(1),d.Dc("ngSwitchCase","form"),d.Pb(1),d.Dc("ngSwitchCase","attachment"),d.Pb(1),d.Dc("ngSwitchCase","gallery"),d.Pb(1),d.Dc("ngSwitchCase","signaturepad"),d.Pb(1),d.Dc("hidden",e.dynamicForm.get(d.Hc(27,ne,e.formfield.fieldname)).valid||e.dynamicForm.get(d.Hc(29,ne,e.formfield.fieldname)).pristine&&!e.dynamicSubmitted),d.Pb(1),d.Dc("ngIf",e.dynamicForm.get(d.Hc(31,ne,e.formfield.fieldname)).hasError("required")),d.Pb(1),d.Dc("ngIf",e.dynamicForm.get(d.Hc(33,ne,e.formfield.fieldname)).hasError("email")),d.Pb(3),d.Dc("ngIf","signaturepad"==e.formfield.fieldtype),d.Pb(4),d.bd("",e.getLang("save","Save")," "),d.Pb(1),d.Dc("ngIf","signaturepad"==e.formfield.fieldtype)}}let we=(()=>{class e extends b.a{constructor(e,t,i,n){super(),this.fb=e,this._route=t,this.cloudinary=i,this.changeDetectorRef=n,this.separateDialCode=!0,this.SearchCountryField=p.e,this.CountryISO=p.a,this.preferredCountries=[p.a.India,p.a.UnitedStates,p.a.UnitedKingdom],this.response=[],this.customeUploader=[],this.maxFileSize=5242880,this.formImageArray=[],this.childSubmitData=new d.r,this.config={minWidth:1,maxWidth:10,penColor:"blue"},this.display=!1}ngOnInit(){const e=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Object(c.a)(this,void 0,void 0,(function*(){try{yield e.ngOnInit.call(this),yield this.makeForm(),yield this.fillValue(),yield this.imageConfigration()}catch(t){}finally{const e=(new Date).getFullYear();this.minDate=new Date(e-100,0,1),this.maxDate=new Date(e+100,11,31)}}))}ngAfterViewInit(){"signaturepad"==this.formfield.fieldtype&&setTimeout(()=>{this.display=!0,this.changeDetectorRef.detectChanges()},1e3)}makeForm(){return Object(c.a)(this,void 0,void 0,(function*(){const e={};e[this.formfield.fieldname]="checkbox"==this.formfield.fieldtype?new a.f([]):"readonly"==this.formfield.fieldtype?new a.f(this.formfield.defaultvalue):"primaryemail"==this.formfield.fieldtype||"secondaryemail"==this.formfield.fieldtype?new a.f(null,a.w.compose("yes"==this.formfield.required?[a.w.required,g.a.email]:[g.a.email])):this.formfield.required?new a.f(null,a.w.compose([a.w.required])):new a.f(null),this.dynamicForm=this.fb.group(e)}))}fillValue(){return Object(c.a)(this,void 0,void 0,(function*(){this.formfielValue&&this.formfielValue.property[this.formfield.fieldname]&&this.formfield.fieldname&&this.dynamicForm.controls[this.formfield.fieldname].setValue(this.formfielValue.property[this.formfield.fieldname])}))}onDynamicFormSubmit(e,t){if(this.dynamicSubmitted=!0,!t)return this.showNotification("top","right","Validation failed!!!","danger"),!1;if("attachment"==this.formfield.fieldtype||"gallery"==this.formfield.fieldtype)for(let o in this.formImageArray)o==this.formfield.fieldname&&(this.dynamicForm.value[this.formfield.fieldname]=this.formImageArray[o]);else if("lookup"==this.formfield.fieldtype||"form"==this.formfield.fieldtype)if(this.dynamicForm.value[this.formfield.fieldname]&&this.dynamicForm.value[this.formfield.fieldname].autocomplete_id){var i=this.dynamicForm.value[this.formfield.fieldname].autocomplete_displayname,n=this.dynamicForm.value[this.formfield.fieldname].autocomplete_id;this.dynamicForm.value[this.formfield.fieldname]={},this.dynamicForm.value[this.formfield.fieldname]={autocomplete_displayname:i,autocomplete_id:n}}else this.dynamicForm.value[this.formfield.fieldname]="";else if("signaturepad"==this.formfield.fieldtype)if(this.signaturePadElement.isEmpty())for(let o in this.formImageArray)o==this.formfield.fieldname&&(this.dynamicForm.value[this.formfield.fieldname]=this.formImageArray[o][this.formImageArray[o].length-1].attachment);else this.dynamicForm.value[this.formfield.fieldname]=this.signaturePadElement.toDataURL();this.childSubmitData.emit(this.dynamicForm.value)}imageConfigration(){return Object(c.a)(this,void 0,void 0,(function*(){if("attachment"==this.formfield.fieldtype||"gallery"==this.formfield.fieldtype||"signaturepad"==this.formfield.fieldtype){const e={url:`https://api.cloudinary.com/v1_1/${this._authService.auth_cloud_name?this._authService.auth_cloud_name:this.cloudinary.config().cloud_name}/upload`,autoUpload:!0,isHTML5:!0,removeAfterUpload:!0,headers:[{name:"X-Requested-With",value:"XMLHttpRequest"}]};"gallery"!=this.formfield.fieldtype&&"signaturepad"!=this.formfield.fieldtype||(e.allowedFileType=["image"]);let t=this.formfield.fieldname;this.customeUploader[t]=new v.c(e),this.customeUploader[t].onBuildItemForm=(e,t)=>{t.append("upload_preset",this.cloudinary.config().upload_preset);let i=this.formfield.fieldname;return this.title&&(t.append("context","photo="+this.formfield.fieldname),i=this.formfield.fieldname),t.append("tags",i),t.append("file",e),e.withCredentials=!1,{fileItem:e,form:t}};const i=e=>{if($(".loading_"+this.formfield.fieldname).show(),e&&200==e.status){let t,i=e.data.tags[0];this.formImageArray[i]||(this.formImageArray[i]=[]),this.formfield.value||(this.formfield.value=""),e.file&&(t=e.file.name.substr(e.file.name.lastIndexOf(".")+1)),this.formImageArray[i].push({attachment:e.data.secure_url,extension:t,originalfilename:e.data.original_filename}),this.formfield.value=e.data.secure_url,$("#"+i).val(e.data.secure_url),$(".loading_"+this.formfield.fieldname).hide()}};this.customeUploader[t].onCompleteItem=(e,t,n,o)=>i({file:e.file,status:n,data:JSON.parse(t)}),this.customeUploader[t].onProgressItem=(e,t)=>i({file:e.file,progress:t}),this.customeUploader[t].onWhenAddingFileFailed=(e,t)=>{let i="";switch(t.name){case"fileSize":i='Warning ! \nThe uploaded file "'+e.name+'" is '+this.formatBytes(e.size)+", this exceeds the maximum allowed size of "+this.formatBytes(this.formfield.maxfilesize?this.formfield.maxfilesize:1024*Number(this.maxFileSize)*1024),this.showNotification("top","right",i,"danger");break;default:i="Error trying to upload file "+e.name,this.showNotification("top","right",i,"danger")}}}}))}formatBytes(e,t){if(0==e)return"0 Bytes";const i=t||2,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}downloadlink(e){return window.open(e,"_blank"),!0}removeImg(e,t){for(const i in this.dynamicForm.value[t])this.dynamicForm.value[t][i]==e.attachment&&this.dynamicForm.value[t].splice(i,1);for(const i in this.formImageArray)i==t&&this.formImageArray[i].forEach(t=>{t==e&&this.formImageArray[i].splice(t,1)});this.formfield.fieldname==t&&0==this.formImageArray[t].length&&(this.formfield.value="")}clear(){this.signaturePadElement.clear(),this.dynamicForm.value[this.formfield.fieldname]="",this.formfield.value=""}getImage(){console.log(this.signaturePadElement.toDataURL())}changeConfig(){this.config.penColor=Math.random()>=.5?"black":"red",this.config.maxWidth=10*Math.random(),this.config=Object.assign({},this.config)}isInValid(){return!(this.signaturePadElement&&!this.signaturePadElement.isEmpty())}forceReload(){this.signaturePadElement.forceUpdate()}onItemAdded(e){}}return e.\u0275fac=function(t){return new(t||e)(d.cc(a.e),d.cc(n.a),d.cc(y.a),d.cc(d.i))},e.\u0275cmp=d.Wb({type:e,selectors:[["app-document-field-value"]],viewQuery:function(e,t){var i;1&e&&d.dd(B,!0),2&e&&d.Kc(i=d.uc())&&(t.signaturePadElement=i.first)},inputs:{formfield:"formfield",formfielValue:"formfielValue"},outputs:{childSubmitData:"childSubmitData"},features:[d.Mb],decls:1,vars:1,consts:[["novalidate","","class","mb-0",3,"formGroup","ngSubmit",4,"ngIf"],["novalidate","",1,"mb-0",3,"formGroup","ngSubmit"],["formtext",""],[1,"row"],[1,"col-sm-12"],[1,"col-form-label"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"text-danger",2,"margin-left","18%",3,"hidden"],["class","error-label",4,"ngIf"],[1,"col-sm-12","text-right"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary","ml-2"],[1,"material-icons"],[4,"ngIf"],[1,"example-full-width"],["type","text","matInput","",3,"formControlName"],["type","text","matInput","","value","",3,"formControlName"],["matInput",""],[3,"formControlName"],["class","mat-primary","checkboxPosition","before",3,"value",4,"ngFor","ngForOf"],["checkboxPosition","before",1,"mat-primary",3,"value"],["aria-labelledby","example-radio-group-label",1,"example-radio-group",3,"formControlName"],["class","example-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"example-radio-button",3,"value"],["matInput","","placeholder","Select","aria-label","Select",3,"matAutocomplete","formControlName"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["matInput","","placeholder","",3,"min","max","matDatepicker","formControlName"],["matSuffix","",3,"for"],[3,"startAt"],["resultPicker",""],["matInput","",3,"owlDateTimeTrigger","owlDateTime","formControlName"],[3,"pickerType"],["dt1",""],["multiple","",3,"formControlName"],["value",""],["type","number","matInput","",3,"formControlName"],[3,"inputId","cssClass","ngClass","preferredCountries","enableAutoCountrySelect","enablePlaceholder","searchCountryFlag","searchCountryField","selectFirstCountry","selectedCountryISO","maxLength","phoneValidation","separateDialCode","formControlName"],[3,"formControlName","setting","dbvalue","added"],[1,"form-group"],["src","assets/img/image-loader.GIF",2,"height","100px","width","100px","display","none"],[1,"btn","btn-primary","btn-file"],[1,"upload_button","mb-0",3,"for"],["type","file","ng2FileSelect","","multiple","",3,"id","uploader","change"],["fileInput",""],["type","hidden",3,"id","formControlName"],[1,"mt-2"],["class","upload-tag badge badge-pill d-flex mb-2",4,"ngFor","ngForOf"],[1,"upload-tag","badge","badge-pill","d-flex","mb-2"],[1,"d-flex","flex-grow-1","align-items-center"],[1,"material-icons","d-flex","align-items-center","mr-2"],[3,"click"],[1,"material-icons","d-flex","align-items-center","justify-content-end","ml-2","cursor-pointer",3,"click"],[1,"row","membroz-row"],[1,"col-xl-2","col-lg-2","col-md-3","col-sm-4","col-6","membroz-col","d-flex","flex-grow-1","mb-3"],[1,"btn-file","text-center","add-upload-inner-vcenter"],[1,"upload_button","mb-0","add-upload-main",3,"for"],["xmlns","http://www.w3.org/2000/svg","width","18.77","height","18.77","viewBox","0 0 18.77 18.77"],["transform","translate(-807.636 -666.636)"],["x2","11.858","y2","11.858","transform","translate(817.021 667.636) rotate(45)","fill","none","stroke","#949494","stroke-linecap","round","stroke-width","1"],["x1","11.858","y2","11.858","transform","translate(817.021 667.636) rotate(45)","fill","none","stroke","#949494","stroke-linecap","round","stroke-width","1"],["class","col-xl-2 col-lg-2 col-md-3 col-sm-4 col-6 membroz-col d-flex flex-grow-1 mb-3",4,"ngFor","ngForOf"],[1,"position-relative","d-flex"],[1,"img-fluid","img-add-product",3,"src","click"],[1,"img-add-product-delete"],["mat-raised-button","",1,"btn","btn-just-icon","btn-link",3,"click"],["type","hidden",3,"formControlName"],[2,"height","100px","width","100px",3,"src"],[1,"container"],["testPadTest",""],[1,"error-label"],["type","button",1,"btn","btn-default",3,"click"],[1,"btn","btn-primary","ml-2",3,"for"]],template:function(e,t){1&e&&d.Xc(0,ye,36,35,"form",0),2&e&&d.Dc("ngIf",t.dynamicForm)},directives:[o.l,a.y,a.q,a.i,o.n,o.o,w.b,x.b,a.c,a.p,a.h,p.b,_.c,o.k,_.b,D.b,D.a,S.c,S.a,P.p,k.b,k.d,w.e,k.a,C.b,C.d,C.a,F.a,a.u,p.c,o.j,E.a,v.a,I.a,N],encapsulation:2}),e})();var xe=i("jhN1");let _e=(()=>{class e{constructor(e){this.sanitized=e}transform(e){return this.sanitized.bypassSecurityTrustHtml(e)}}return e.\u0275fac=function(t){return new(t||e)(d.cc(xe.b))},e.\u0275pipe=d.bc({name:"safeHtml",type:e,pure:!0}),e})();function De(e,t){1&e&&(d.ic(0,"div",29),d.Zc(1,"Loading\u2026"),d.hc())}function Se(e,t){if(1&e){const e=d.jc();d.ic(0,"button",30),d.tc("click",(function(){return d.Oc(e),d.xc().submit()})),d.ic(1,"i",17),d.Zc(2,"save"),d.hc(),d.Zc(3," Submit "),d.hc()}if(2&e){const e=d.xc();d.Dc("disabled",e.btnDisable)}}function Pe(e,t){if(1&e){const e=d.jc();d.ic(0,"button",30),d.tc("click",(function(){return d.Oc(e),d.xc().onClickpdf()})),d.ic(1,"i",17),d.Zc(2,"print"),d.hc(),d.Zc(3," Print "),d.hc()}if(2&e){const e=d.xc();d.Dc("disabled",e.btnDisable)}}function ke(e,t){if(1&e){const e=d.jc();d.ic(0,"app-document-field-value",31),d.tc("childSubmitData",(function(t){return d.Oc(e),d.xc().getSubmittedData(t)})),d.hc()}if(2&e){const e=d.xc();d.Dc("formfield",e.selectedField)("formfielValue",e.tempSlectedValue)}}let Ce=(()=>{class e extends r.a{constructor(e,t,i){super(),this._route=e,this.elementRef=t,this._FileSaverService=i,this.formFieldVisibile=!1,this.disableSubmitBtn=!1,this.formfields=[],this.checked=!1,this.submitted=!1,this.btnDisable=!1,this.destroy$=new l.a,this.handleAnchorClick=e=>{const t=e.target;this.formFieldVisibile=!1,setTimeout(()=>{if(this.selectedField=this.getformfieldObj(t.id),this.selectedField&&"datepicker"==this.selectedField.fieldtype)for(var i=document.getElementsByName("attributename_"+this.selectedField._id),n=0;n<i.length;n++)i[n].setAttribute("style","color: black;");else this.selectedField&&"checkbox"!==this.selectedField.fieldtype&&"text"!==this.selectedField.fieldtype&&"list"!==this.selectedField.fieldtype&&(e.preventDefault(),$("#myModalFormfieldPopup").click(),this.formFieldVisibile=!0)})},this._route.params.forEach(e=>{this.bindId=e.id,this._formName=this.bindId})}ngOnInit(){const e=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return Object(c.a)(this,void 0,void 0,(function*(){this._route.params.forEach(t=>Object(c.a)(this,void 0,void 0,(function*(){try{yield e.ngOnInit.call(this),yield this.initializeVariables(),yield this.getformFields(),yield this.getLoadFormdatas(),yield this.getLoadForm()}catch(t){console.error(t)}})))}))}initializeVariables(){return Object(c.a)(this,void 0,void 0,(function*(){this.selectedField={},this.tempSlectedValue={},this.formFieldVisibile=!1,this.disableSubmitBtn=!1,this.formfields=[],this.doctemplate={},this.checked=!1,this.submitted=!1,this.btnDisable=!1}))}ngAfterViewChecked(){this.anchors=this.elementRef.nativeElement.querySelectorAll("a"),this.anchors.forEach(e=>{e.addEventListener("click",this.handleAnchorClick)})}getformFields(){return Object(c.a)(this,void 0,void 0,(function*(){let e={search:[]};return e.search.push({searchfield:"formname",searchvalue:this.formObj.formname,criteria:"eq"}),e.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("formfields/filter","POST",e).then(e=>{if(e)return this.formfields=[],this.formfields=e,this.tempSlectedValue={},this.tempSlectedValue.property={},void this.formfields.forEach(e=>{this.tempSlectedValue.property[e.fieldname]=""})},e=>{console.error(e)})}))}getLoadFormdatas(){return Object(c.a)(this,void 0,void 0,(function*(){let e={search:[]};return e.search.push({searchfield:"formid",searchvalue:this.formObj._id,criteria:"eq",datatype:"ObjectId"}),e.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("formdatas/filter","POST",e).then(e=>{e&&e&&e[0]&&(this.tempSlectedValue.addedby=e[0].addedby,this.tempSlectedValue.branchid=e[0].branchid,this.tempSlectedValue.createdAt=e[0].createdAt,this.tempSlectedValue.formid=e[0].formid,this.tempSlectedValue.status=e[0].status,this.tempSlectedValue.updatedAt=e[0].updatedAt,this.tempSlectedValue._id=e[0]._id,this.tempSlectedValue&&this.tempSlectedValue.property&&this.formfields&&this.formfields.length>0&&this.formfields.forEach(t=>{t&&e[0].property[t.fieldname]&&(t.value=e[0].property[t.fieldname],this.tempSlectedValue.property[t.fieldname]=e[0].property[t.fieldname])}),this.tempSlectedValue&&this.tempSlectedValue.property&&this.tempSlectedValue.property.acknowledged&&(this.checked=!0),this.tempSlectedValue&&this.tempSlectedValue.property&&this.tempSlectedValue.property.signed&&(this.submitted=!0))},e=>{console.error(e)})}))}getLoadForm(){return Object(c.a)(this,void 0,void 0,(function*(){let e={search:[]};return e.search.push({searchfield:"formname",searchvalue:this.formObj.formname,criteria:"eq"}),e.search.push({searchfield:"status",searchvalue:"active",criteria:"eq"}),this._commonService.commonServiceByUrlMethodDataAsync("forms/filter","POST",e).then(e=>{if(e&&e&&e[0]&&e[0].doctemplate){this.doctemplate=e[0].doctemplate;var t=this;this.doctemplate.replace(/\[{(\w+)+\.?(\w+)\.?(\w+)\}]/gm,(function(e,i){var n,o=e.replace("[{","");o=o.replace("}]","");var a=t.getformfieldObj(o);if(a){var c="";if("text"==a.fieldtype)c="<input type='text' name='attributename_"+o+"' id='"+o+"' value='"+(r=a&&a.value?a.value:"")+"'>";else if("checkbox"==a.fieldtype){var r=a&&a.value?a.value:"";a.lookupdata&&a.lookupdata.length>0&&a.lookupdata.forEach(e=>{var t="";r&&r.length>0&&r.find(t=>t==e.key)&&(t='checked="checked"'),c+=" <input type='checkbox' name='attributename_"+o+"' id='"+o+"' "+t+">"})}else if("datepicker"==a.fieldtype)c="<input type='date' name='attributename_"+o+"' id='"+o+"' value='"+t.convertDate(r=a&&a.value?a.value:"")+"' style='"+t.getDayClassNames(r)+"'>";else if("lookup"==a.fieldtype||"form"==a.fieldtype)c="<input type='text' id='"+o+"' value='"+(r=a&&a.value&&a.value.autocomplete_displayname?a.value.autocomplete_displayname:a&&a.value?a.value:a.displayname)+"'>";else if("signaturepad"==a.fieldtype)c=""==(r=a&&a.value?a.value:"")?"<input type='text' id='"+o+"' val='"+r+"' placeholder='Signature ....' style='border: 0; border-bottom: 1px solid #000; height:100px; font-size:14pt;'>":"<img id='"+o+"' src='"+r+"' style='height: 100px; width: 100px'>";else if("list"==a.fieldtype){r=a&&a.value?a.value:"";var l="",s="";s+="<option value=''></option>",a.lookupdata&&a.lookupdata.length>0&&a.lookupdata.forEach(e=>{r==e.value&&(l="selected"),s+="<option value='"+e.value+"' "+l+">"+e.value+"</option>"}),c="<select name='attributename_"+o+"' id='"+o+"'> "+s+" </select>"}else c="<input type='text' id='"+o+"' value='"+(r=a&&a.value?a.value:"")+"'>";n=t.btnDisable?`<span id="${o}">${c}</span>`:`<a id="${o}">${c}</a>`}n&&(t.doctemplate=t.doctemplate.replace("$[{"+o+"}]",n))}))}},e=>{console.error(e)})}))}convertDate(e){function t(e){return e<10?"0"+e:e}var i=new Date(e);return[i.getFullYear(),t(i.getMonth()+1),t(i.getDate())].join("-")}getSubmittedData(e){if(e){this.tempSlectedValue&&this.tempSlectedValue.property&&void 0!==this.tempSlectedValue.property[this.selectedField.fieldname]&&(this.tempSlectedValue.property[this.selectedField.fieldname]=e[this.selectedField.fieldname]);var t=this.formfields.find(e=>e._id==this.selectedField._id);t&&(t.value=e[this.selectedField.fieldname]),$(".close").click(),this.getLoadForm()}}getformfieldObj(e){return this.formfields.find(t=>t._id==e)}submit(){return Object(c.a)(this,void 0,void 0,(function*(){this.submitted=!0,this.btnDisable=!0;try{yield this.manupluatingValues(),yield this.getLoadForm(),yield this.saveAsDraft()}catch(e){console.log("error",e)}}))}saveAsDraft(){return Object(c.a)(this,void 0,void 0,(function*(){var e=!1;this.formfields&&this.formfields.length>0&&this.formfields.forEach(t=>{t.required&&(this.tempSlectedValue&&this.tempSlectedValue.property&&""==this.tempSlectedValue.property[this.selectedField.fieldname]||null==this.tempSlectedValue.property[this.selectedField.fieldname])&&(e=!0)}),this.disableSubmitBtn=!0,setTimeout(()=>{if(!e){if(this.tempSlectedValue&&this.tempSlectedValue._id)return this._commonService.commonServiceByUrlMethodDataAsync(t="formdatas/"+this.tempSlectedValue._id,i="PUT",this.tempSlectedValue).then(e=>{e&&(this.disableSubmitBtn=!1,this.showNotification("top","right","Document has been updated Successfully!!!","success"),this.ngOnInit())},e=>{console.error(e),this.disableSubmitBtn=!1});var t="formdatas",i="POST";return this.tempSlectedValue.formid=this.formObj._id,this._commonService.commonServiceByUrlMethodDataAsync(t,i,this.tempSlectedValue).then(e=>{e&&(this.disableSubmitBtn=!1,this.showNotification("top","right","Document has been updated Successfully!!!","success"),this.ngOnInit())},e=>{console.error(e),this.disableSubmitBtn=!1})}this.disableSubmitBtn=!1,this.showNotification("top","right","Validation Failed !!!","danger")})}))}manupluatingValues(){return Object(c.a)(this,void 0,void 0,(function*(){this.formfields.forEach(e=>{if("text"==e.fieldtype||"list"==e.fieldtype)for(var t=document.getElementsByName("attributename_"+e._id),i=0;i<t.length;i++)e.value=t[i].value,this.tempSlectedValue.property[e.fieldname]=t[i].value;else if("checkbox"==e.fieldtype)for(t=document.getElementsByName("attributename_"+e._id),i=0;i<t.length;i++)1==t[i].checked&&e.lookupdata&&e.lookupdata.length>0&&e.lookupdata[i]&&e.lookupdata[i].key&&(e.value||(e.value=[]),e.value.push(e.lookupdata[i].key),this.tempSlectedValue.property[e.fieldname]||(this.tempSlectedValue.property[e.fieldname]=[]),this.tempSlectedValue.property[e.fieldname].push(e.lookupdata[i].key));else if("datepicker"==e.fieldtype)for(t=document.getElementsByName("attributename_"+e._id),i=0;i<t.length;i++)if(t[i].value&&""!==t[i].value){var n=t[i].value.split("-");if(n&&n[2]){var o=new Date;o.setFullYear(n[0]),o.setMonth(n[1]-1),o.setDate(n[2]),e.value=o,this.tempSlectedValue.property[e.fieldname]=o}}})}))}onClickpdf(){this.btnDisable=!0;let e=document.getElementById("printid").innerHTML;this._commonService.generatepdf({document:e}).pipe(Object(s.a)(this.destroy$)).subscribe(e=>{this._FileSaverService.save(e,"downloaded.pdf"),this.btnDisable=!1})}getDayClassNames(e){return""==e?"color: transparent":"color: black"}}return e.\u0275fac=function(t){return new(t||e)(d.cc(n.a),d.cc(d.o),d.cc(f))},e.\u0275cmp=d.Wb({type:e,selectors:[["app-document-module"]],features:[d.Mb],decls:41,vars:8,consts:[["class","loading",4,"ngIf"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body"],[1,"mb-3"],["id","printid"],[3,"innerHTML"],[1,"center"],[1,"footer","fixed-bottom","bg-white","shadow-top"],[1,"col-xl-12"],[1,"col-sm-6","text-left"],[1,"example-margin",3,"ngModel","ngModelChange"],[1,"col-sm-6","text-right"],["type","button",1,"btn","btn-default"],[1,"material-icons"],["class","btn btn-primary ml-2","type","button",3,"disabled","click",4,"ngIf"],["id","myModalFormfieldPopup","type","button","data-toggle","modal","data-backdrop","static","data-keyboard","false","data-target","#myModalFormfield",1,"btn","btn-info","btn-lg","d-none"],["id","myModalFormfield","role","dialog",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close"],[1,"modal-body"],[3,"formfield","formfielValue","childSubmitData",4,"ngIf"],[1,"modal-footer"],[1,"loading"],["type","button",1,"btn","btn-primary","ml-2",3,"disabled","click"],[3,"formfield","formfielValue","childSubmitData"]],template:function(e,t){1&e&&(d.Xc(0,De,2,0,"div",0),d.ic(1,"div",1),d.ic(2,"div",2),d.ic(3,"div",3),d.ic(4,"div",4),d.ic(5,"div",5),d.ic(6,"div",6),d.dc(7,"div",7),d.ic(8,"div",8),d.dc(9,"div",9),d.yc(10,"safeHtml"),d.hc(),d.dc(11,"div",10),d.hc(),d.hc(),d.hc(),d.hc(),d.hc(),d.hc(),d.ic(12,"footer",11),d.ic(13,"div",2),d.ic(14,"div",3),d.ic(15,"div",12),d.ic(16,"div",3),d.dc(17,"div"),d.ic(18,"div",13),d.ic(19,"mat-checkbox",14),d.tc("ngModelChange",(function(e){return t.checked=e})),d.Zc(20," I read and understand all this "),d.hc(),d.hc(),d.ic(21,"div",15),d.ic(22,"button",16),d.ic(23,"i",17),d.Zc(24,"close"),d.hc(),d.Zc(25," Cancel "),d.hc(),d.Xc(26,Se,4,1,"button",18),d.Xc(27,Pe,4,1,"button",18),d.hc(),d.hc(),d.hc(),d.hc(),d.hc(),d.hc(),d.ic(28,"button",19),d.Zc(29,"Open Modal"),d.hc(),d.ic(30,"div",20),d.ic(31,"div",21),d.ic(32,"div",22),d.ic(33,"div",23),d.ic(34,"h4",24),d.Zc(35,"Fields"),d.hc(),d.ic(36,"button",25),d.Zc(37,"\xd7"),d.hc(),d.hc(),d.ic(38,"div",26),d.Xc(39,ke,1,2,"app-document-field-value",27),d.hc(),d.dc(40,"div",28),d.hc(),d.hc(),d.hc()),2&e&&(d.Dc("ngIf",t.disableSubmitBtn),d.Pb(9),d.Dc("innerHTML",d.zc(10,6,t.doctemplate),d.Pc),d.Pb(10),d.Dc("ngModel",t.checked),d.Pb(7),d.Dc("ngIf",!t.submitted),d.Pb(1),d.Dc("ngIf",t.submitted),d.Pb(12),d.Dc("ngIf",t.formFieldVisibile))},directives:[o.l,u.a,a.p,a.s,p.b,we],pipes:[_e],styles:['.loading[_ngcontent-%COMP%]{z-index:999;height:2em;width:2em;overflow:show;margin:auto;bottom:0;right:0}.loading[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]:before{position:fixed;top:0;left:0}.loading[_ngcontent-%COMP%]:before{content:"";display:block;width:100%;height:100%;background:radial-gradient(rgba(20,20,20,.8),rgba(0,0,0,.8));background:-webkit-radial-gradient(rgba(20,20,20,.8),rgba(0,0,0,.8))}.loading[_ngcontent-%COMP%]:not(:required){font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.loading[_ngcontent-%COMP%]:not(:required):after{content:"";display:block;font-size:10px;width:1em;height:1em;margin-top:-.5em;-webkit-animation:spinner 1.5s linear infinite;animation:spinner 1.5s linear infinite;border-radius:.5em;box-shadow:1.5em 0 0 0 hsla(0,0%,100%,.75),1.1em 1.1em 0 0 hsla(0,0%,100%,.75),0 1.5em 0 0 hsla(0,0%,100%,.75),-1.1em 1.1em 0 0 hsla(0,0%,100%,.75),-1.5em 0 0 0 hsla(0,0%,100%,.75),-1.1em -1.1em 0 0 hsla(0,0%,100%,.75),0 -1.5em 0 0 hsla(0,0%,100%,.75),1.1em -1.1em 0 0 hsla(0,0%,100%,.75)}@-webkit-keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}']}),e})();const Fe=[{path:"",component:Ce},{path:"form",component:Ce},{path:"form/:id",component:Ce}];var Ee=i("Ebo4"),Ie=i("kJ4b"),Oe=i("GU7I"),Me=i("Vx+w");const Ve={Cloudinary:Oe.Cloudinary};let Ae=(()=>{class e{}return e.\u0275mod=d.ac({type:e}),e.\u0275inj=d.Zb({factory:function(t){return new(t||e)},imports:[[o.c,n.d.forChild(Fe),a.k,Ie.a,a.v,C.c,C.e,p.d,Ee.a,y.b.forRoot(Ve,Me.a),v.b,U,h]]}),e})()}}]);